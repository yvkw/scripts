<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerar Estilos de Imagens</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    header {
      position: fixed;
      top: 0;
      width: 100%;
      background-color: #007bff;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      overflow-x: auto;
    }
    nav {
      white-space: nowrap;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 25px;
      padding: 15px 20px;
      min-width: max-content;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-size: 1em;
      font-weight: 500;
      transition: opacity 0.3s, transform 0.2s;
    }
    nav a:hover {
      opacity: 0.85;
      transform: translateY(-2px);
    }
    .container {
      max-width: 800px;
      margin: 100px auto 0; /* Ajusta o espaço para evitar que o conteúdo fique oculto atrás da navbar fixa */
      background-color: white;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
    }
    textarea {
      width: 100%;
      height: 150px;
      margin-bottom: 10px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .button-container {
      margin-top: 20px;
      display: flex;
      justify-content: flex-start; /* Alinha os botões à esquerda */
      gap: 10px; /* Adiciona espaço entre os botões */
    }
    button {
      padding: 10px 20px;
      background-color: #0062ff;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    .button-container button:hover {
      background-color: #0056cc;
    }
    .button-container button.salvar {
      background-color: #28a745; /* Cor do botão "Salvar Tudo" */
    }
    .button-container button.salvar:hover {
      background-color: #218838; /* Cor ao passar o mouse */
    }
    .bloco {
      margin-bottom: 15px;
      padding: 15px;
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 5px;
      position: relative;
    }
    .bloco h3 {
      margin-bottom: 10px;
      color: #007bff;
    }
    .bloco button {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 5px 10px;
      background-color: #28a745;
      border-radius: 5px;
      cursor: pointer;
    }
    .bloco button:hover {
      background-color: #218838;
    }
    #mensagem {
      margin-top: 20px;
      padding: 10px;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      border-radius: 5px;
      display: none;
    }
  </style>
</head>
<body>

<header>
  <nav>
    <a href="index.html"><strong>PÁGINA INICIAL</strong></a>
    <a href="roteiro.html"><strong>CRIAR ROTEIRO</strong></a>
    <a href="intro.html"><strong>GERAR INTRODUÇÃO</strong></a>  
    <a href="imgs.html"><strong>PROMPTS DE IMAGENS</strong></a>
    <a href="estilos.html"><strong>ESTILOS DE IMAGENS</strong></a>
    <a href="seo.html"><strong>SEO YOUTUBE</strong></a>  
    <a href="legenda.html"><strong>LEGENDA SRT</strong></a>  
    <a href="https://remover-silencio.onrender.com/"><strong>REMOVER SILÊNCIO</strong></a>  
  </nav>
</header>

<div class="container">
  <h1>Gerar Estilos de Imagens</h1>
  <textarea id="textoInput" placeholder="Cole seus prompts aqui..."></textarea>

  <div class="button-container">
    <button onclick="gerarIlustracoes('realista')">Pintura Realista</button>
    <button onclick="gerarIlustracoes('flat')">Flat Design</button>
    <button onclick="gerarIlustracoes('grotesque')">Grotesque</button>
    <button class="salvar" onclick="salvarTudo()">Salvar Tudo</button>
  </div>

  <div id="blocos"></div>

  <div id="mensagem">Todos os parágrafos foram copiados com sucesso!</div>
</div>

<script>
  let totalBlocos = 0;
  let blocosCopiados = 0;

  // Função para gerar a estrutura de ilustrações para cada parágrafo
  function gerarIlustracoes(tipo) {
    const textoInput = document.getElementById('textoInput').value.trim();
    const paragrafos = textoInput.split('\n').filter(par => par !== '');

    if (paragrafos.length === 0) {
      alert('Por favor, cole algum texto.');
      return;
    }

    const blocosContainer = document.getElementById('blocos');
    blocosContainer.innerHTML = ''; // Limpa os blocos anteriores

    // Criar os blocos com a estrutura desejada para cada parágrafo
    totalBlocos = paragrafos.length;
    blocosCopiados = 0;

    paragrafos.forEach((paragrafo, index) => {
      const blocoElement = document.createElement('div');
      blocoElement.classList.add('bloco');

      let textoBloco = '';
      if (tipo === 'realista') {
        textoBloco = `
          <p>Create an illustration in the realistic painting style, resembling Renaissance art or classical painting, ultra quality, 8k UHD, best quality, highly detailed. Focus on detailed human figures with soft yet defined features, using rich textures and shadows. The scene should convey a sense of depth, with natural lighting illuminating the figures and environment. The background should include architectural elements or natural settings, rendered in soft hues with a focus on realism: ${paragrafo}</p>
        `;
      } else if (tipo === 'flat') {
        textoBloco = `
          <p>Create an illustration in flat design and minimalist line art style, ultra quality, 8k UHD, best quality, highly detailed. Use simple lines with defined contours and a limited color palette of soft, solid colors. The scene should be clear and stylized, with no complex textures or detailed shading. The illustration should resemble vector style art, capturing the essence of the subject with simplicity and clarity: ${paragrafo}</p>
        `;
      } else if (tipo === 'grotesque') {
        textoBloco = `
          <p>Grotesque cartoon illustration, earthy tones, flat lighting, serene expressions, calm looks, slight smiles, hand-drawn texture: ${paragrafo}</p>
        `;
      }

      blocoElement.innerHTML = `
        <h3>Prompt ${index + 1}</h3>
        ${textoBloco}
        <button onclick="copiarBloco(${index})">Copiar</button>
      `;

      blocosContainer.appendChild(blocoElement);
    });
  }

  // Função para copiar o conteúdo de um bloco
  function copiarBloco(index) {
    const blocoElement = document.querySelectorAll('.bloco')[index];
    const textoBloco = blocoElement.querySelector('p').innerText;

    // Copiar o conteúdo do bloco
    navigator.clipboard.writeText(textoBloco).then(() => {
      // Remove o bloco copiado
      blocoElement.style.display = 'none'; // Torna o bloco invisível

      blocosCopiados++;

      // Exibe a mensagem quando todos os blocos forem copiados
      if (blocosCopiados === totalBlocos) {
        const mensagem = document.getElementById('mensagem');
        mensagem.style.display = 'block';
      }
    });
  }

  // Função para salvar tudo em um arquivo
  async function salvarTudo() {
    const blocos = document.querySelectorAll('.bloco');
    let textoCompleto = '';

    // Para cada bloco, adicionar o conteúdo ao texto completo
    blocos.forEach(bloco => {
      const textoBloco = bloco.querySelector('p').innerText;
      textoCompleto += `Create an illustration in the realistic painting style, resembling Renaissance art or classical painting, ultra quality, 8k UHD, best quality, highly detailed. Focus on detailed human figures with soft yet defined features, using rich textures and shadows. The scene should convey a sense of depth, with natural lighting illuminating the figures and environment. The background should include architectural elements or natural settings, rendered in soft hues with a focus on realism: ${textoBloco}\n\n`;
    });

    if (textoCompleto.trim() === '') {
      alert('Nenhum conteúdo gerado para salvar.');
      return;
    }

    try {
      const handle = await window.showSaveFilePicker({
        suggestedName: 'ilustracoes_completas.txt',
        types: [{ description: 'Arquivo de Texto', accept: { 'text/plain': ['.txt'] } }]
      });

      const writable = await handle.createWritable();
      await writable.write(textoCompleto);
      await writable.close();
      alert('Arquivo salvo com sucesso!');
    } catch (e) {
      console.error('Erro ao salvar:', e);
    }
  }
</script>

</body>
</html>
